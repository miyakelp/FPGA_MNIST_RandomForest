
//=======================================================
//  This code is generated by Terasic System Builder
//=======================================================

module DE0_RF(

	//////////// CLOCK //////////
	input 		          		CLOCK_50,
	input 		          		CLOCK2_50,
	input 		          		CLOCK3_50,
	inout 		          		CLOCK4_50,

	//////////// SEG7 //////////
	output		     [6:0]		HEX0,
	output		     [6:0]		HEX1,
	output		     [6:0]		HEX2,
	output		     [6:0]		HEX3,
	output		     [6:0]		HEX4,
	output		     [6:0]		HEX5,

	//////////// KEY //////////
	input 		     [3:0]		KEY,
	input 		          		RESET_N,

	//////////// LED //////////
	output		     [9:0]		LEDR,

	//////////// microSD Card //////////
	output		          		SD_CLK,
	inout 		          		SD_CMD,
	inout 		     [3:0]		SD_DATA,

	//////////// SW //////////
	input 		     [9:0]		SW
);



//=======================================================
//  REG/WIRE declarations
//=======================================================



//=======================================================
//  Structural coding
//=======================================================

// MNISTの手書き画像
wire [783:0] test0;
assign test0 = 784'b0000000000000000000000000000000000000000000111000000000000000000000001111100000000000000000000000111110000000000000000000000011110000000000000000000000001111000000000000000000000001111000000000000000000000001111000000000000000000000000111000000000000000000000000111100000000000000000000000011100000000000000000000000011100000000000000000000000001110000000000000000000000001111000000000000000000000001111000000000000000000000000111100000000000000000000000011100000000000000000000000011111111010000000000000000001111111111111111000000000000111111111111111100000000000000000000001111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test1;
assign test1 = 784'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111110000000000111111111111111111100000000011111111111111111110000000000111110000000001111000000000000000000000000111100000000000000000000000011110000000000000000000000011110000000000000000000000001111000000000000000000000001111000000000000000000000001111100000000000000000000000111100000000000000000000000111100000000000000000000000111110000000000000000000000011110000000000000000000000011110000010000000000000000001111000111100000000000000000111000111110000000000000000011111111110000000000000000001111111110000000000000000000011111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test2;
assign test2 = 784'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000111000000000000000000000000011100000000000000000000000011110000000000000000000000001110000000000000000000000000111000000000000000000000000011100000000000000000000000001110000000000000000000000001110000000000000000000000000111000000000000000000000000011100000000000000000000000011100000000000000000000000001110000000000000000000000000111000000000000000000000000011000000000000000000000000011100000000000000000000000001110000000000000000000000000110000000000000000000000000111000000000000000000000000011100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test3;
assign test3 = 784'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111000000000000000000000111111111000000000000000001111111111110000000000000001111111111111000000000000000111111111111100000000000000111111000001110000000000000111111000000111000000000000111111100000011100000000000011111000000001110000000000001111100000000111000000000000111110000001111100000000000011111000000111110000000000000111110001111111000000000000001111111111111000000000000000011111111111000000000000000001111111111000000000000000000011111111100000000000000000000011111100000000000000000000001111100000000000000000000000111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test4;
assign test4 = 784'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000111000000000000000000000000011100000000000000000000000001110000000000000000000000000111000000000000000000000000111100000000000000000000000001110011111000000000000000000111111111111000000000000000111111111111100000000000000011110000000110000000000000001110000000011100000000000000111000000001100000000000000111100000001110000000000000011100000000111000000000000011100000000111000000000000001110000000011100000000000000111000000011100000000000000001100000001100000000000000000110000000110000000000000000011000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test5;
assign test5 = 784'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011100000000000000000000000001110000000000000000000000000111000000000000000000000000011100000000000000000000000001110000000000000000000000001111000000000000000000000000111100000000000000000000000111100000000000000000000000011110000000000000000000000001111000000000000000000000001111000000000000000000000000111100000000000000000000000011110000000000000000000000011110000000000000000000000001111000000000000000000000000111100000000000000000000000111100000000000000000000000011110000000000000000000000001110000000000000000000000000111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test6;
assign test6 = 784'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000000000000000000000111111000000000000000000000011111100000000000000000000001001110000000000000000000000000111000000000000000000000000111000000000000000000000000011100000000000000000000000011110000000000000000000000001110000000000000000000000001111000000000000000000000000111111111110000000000000000111111111111110000000000000011111111111111000000000000001110000000011100000000000001110000000001110000000000001111000000001111000000000000111000000001111000000000000111000000000111000000000000111000000000111000000000000001000000000111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test7;
assign test7 = 784'b0000000000000000000000000000000000000000000000000000000000001100000000000000000000000000111000000000000000000000000001110000000000000000000000000111100000000000000000000000001110000000000000000000000000111100000000000000000000000001110000000000000000000000000011100000000000000000000000001110000111000000000000000000111100111110000000000000000001111111111000000000000000000111111111110000000000000000001111000111000000000000000000111100011100000000000000000011111001110000000000000000001111111111000000000000000000011111111000000000000000000000011111100000000000000000000000111100000000000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test8;
assign test8 = 784'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001110000000000000000000000001111110000000000000000000001111111000000000000000000001111111110000000000000000000111111111000000000000000000011111111111000000000000000001111111111111100000000000000011111111111111000000000000000111111111111100000000000000000000000111110000000000000000000000000111000000000000000000000000111100000000000000000000000011100000000000000000000000011100000000000000000001010011100000000000000000111111101100000000000011111111111110000000000000001111111111111000000000000000111111111100000000000000000011101110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test9;
assign test9 = 784'b0000000000000000000000000000000000000000000011100000000000000000000000011110000000000000000000000001111000000000000000000000001111100000000000000000000000111100000000000000000000000111100000000000000000000000111110000000000000000000000111111000000000000000000000011111000000000000000000000011111000000000000000000000011111000000000000000000000011111111111000000000000000111111111111111000000000000111111111111111110000000000011111110000011111000000000011111110000011111000000000001111111000111111000000000000011111111111111000000000000000111111111110000000000000000000111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test10;
assign test10 = 784'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111110000000000000000011111111111100000000000000011111111111110000000000000011111100000011000000000000011110000000001110000000000001111000000000111000000000001111000000000011100000000000111000000000001110000000000011100000000000110000000000001110000000000011000000000000111000000000011100000000000011100000000001110000000000001110000000001111000000000000111000000000111000000000000011100000000011100000000000001111000000011110000000000000011110000111111000000000000001111111111111000000000000000011111111111000000000000000000011111101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test11;
assign test11 = 784'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111100000000000000000000111111111100000000000000001111111111111000000000000001111111000011100000000000001111001111001111000000000001110000011100111000000000000111000000111011100000000000011000000011101110000000000001100000011110111000000000001110000111110011100000000000111001111111001110000000000011111111110000110000000000000111111100000111000000000000001111000000011100000000000000000000000001110000000000000000000000001110000000000000000000000000111000000000000000000000000111100000000000000000000000111100000000000000000000000011100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test12;
assign test12 = 784'b0000000000000000000000000000000000000000111000000000000000000000000011100000000000000000000000001110000000000000000000000000111000000000000000000000000111100000000000000000000000011110000000000000000000000001110000000000000000000000001111000000000000000000000000111000000000000000000000000111101111000000000000000000011111111110000000000000000001111111111100000000000000000111110001110000000000000000111100000111000000000000000011100000111100000000000000011110000111100000000000000001111000111110000000000000001111111111110000000000000000111111111110000000000000000001011111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test13;
assign test13 = 784'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111000000000000000000001111111111000000000000000000111110011110000000000000000111100000111100000000000000011100000011110000000000000001100000000111100000000000001110000000001110000000000001111000000000111000000000000111100000000011100000000000011110000000001110000000000001111000000001111000000000000111100000000111100000000000001110000000111100000000000000111000000011110000000000000011110000011111000000000000000111100011111100000000000000001111011111100000000000000000111111111100000000000000000011111111100000000000000000001111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test14;
assign test14 = 784'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001110000000000000000000000011111000000000000000000000011111000000000000000000000001111100000000000000000000000111100000000000000000000000011110000000000000000000000000111000000000000000000000000011100000000000000000000000001110000000000000000000000000111000000000000000000000000111100000000000000000000000011110000000000000000000000001111000000000000000000000000111100000000000000000000000011110000000000000000000000000111000000000000000000000000011100000000000000000000000011110000000000000000000000001111000000000000000000000000011100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
wire [783:0] test15;
assign test15 = 784'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111111110000000000000001111111111111100000000000011111110000001110000000000011110000000000110000000000001110000000000000000000000000110000000000000000000000000011000000000000000000000000001111000000000000000000000000011100000000000000000000000000111100000000000000000000000001111100000011100000000000000001111111111110000000000000000001111111110000000000000000000001111110000000000000000000000000111000000000000000000000000011110000000000000000000000000111000000000000000000000111111100000000000000000011111111110000000000000001111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;

// 入力データ選択
wire [783:0] rf_input;
assign rf_input =
  SW[3:0] == 4'b0000 ? test0 :
  SW[3:0] == 4'b0001 ? test1 :
  SW[3:0] == 4'b0010 ? test2 :
  SW[3:0] == 4'b0011 ? test3 :
  SW[3:0] == 4'b0100 ? test4 :
  SW[3:0] == 4'b0101 ? test5 :
  SW[3:0] == 4'b0110 ? test6 :
  SW[3:0] == 4'b0111 ? test7 :
  SW[3:0] == 4'b1000 ? test8 :
  SW[3:0] == 4'b1001 ? test9 :
  SW[3:0] == 4'b1010 ? test10 :
  SW[3:0] == 4'b1011 ? test11 :
  SW[3:0] == 4'b1100 ? test12 :
  SW[3:0] == 4'b1101 ? test13 :
  SW[3:0] == 4'b1110 ? test14 : test15;

// 正解ラベル選択
wire [3:0] actual;
assign actual =
  SW[3:0] == 4'b0000 ? 7 :
  SW[3:0] == 4'b0001 ? 2 :
  SW[3:0] == 4'b0010 ? 1 :
  SW[3:0] == 4'b0011 ? 0 :
  SW[3:0] == 4'b0100 ? 4 :
  SW[3:0] == 4'b0101 ? 1 :
  SW[3:0] == 4'b0110 ? 4 :
  SW[3:0] == 4'b0111 ? 9 :
  SW[3:0] == 4'b1000 ? 5 :
  SW[3:0] == 4'b1001 ? 9 :
  SW[3:0] == 4'b1010 ? 0 :
  SW[3:0] == 4'b1011 ? 6 :
  SW[3:0] == 4'b1100 ? 9 :
  SW[3:0] == 4'b1101 ? 0 :
  SW[3:0] == 4'b1110 ? 1 : 5;

  
// 7セグデコーダ
function [6:0] dec_to_7seg;
  input [3:0] dec;
  dec_to_7seg = dec == 0 ? ~7'b0111111 :
                dec == 1 ? ~7'b0000110 :
                dec == 2 ? ~7'b1011011 :
                dec == 3 ? ~7'b1001111 :
                dec == 4 ? ~7'b1100110 :
					 dec == 5 ? ~7'b1101101 :
					 dec == 6 ? ~7'b1111101 :
					 dec == 7 ? ~7'b0100111 :
					 dec == 8 ? ~7'b1111111 :
					 dec == 9 ? ~7'b1101111 :
                7'bxxxxxxx;
endfunction
  

// ランダムフォレストモジュール
wire [3:0] rf_output;
mnist_rf rf(rf_input, rf_output);

// 7セグに出力
assign LEDR[3:0] = SW[3:0];
assign HEX0 = dec_to_7seg(rf_output);
assign HEX1 = 7'b1111111;
assign HEX2 = dec_to_7seg(actual);
assign HEX3 = 7'b1111111;
assign HEX4 = 7'b1111111;
assign HEX5 = 7'b1111111;

endmodule
